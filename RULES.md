# RULES.md — whereorwhen 디자인 & 개발 원칙

이 문서는 프로젝트 전반에 적용되는 원칙을 기록합니다.
개별 버그 수정이 아니라, 앞으로의 모든 작업에 적용할 기준입니다.

---

## 1. 브랜드 & 디자인

### 1.1 컬러 정체성

- **화이트/블랙이 키 컬러**. MRT 블루는 키 컬러가 아님.
- 배경: `#FFFFFF` (메인), `#F7F8FA` (섹션)
- 텍스트: `#1B1D1F` (주), `#6B7684` (보조), `#ADB5BD` (3차)
- 활성 상태(탭, 토글, 뱃지): **블랙(`#1B1D1F`)** 사용, 블루 아님
- 컬러는 점수 표시에만 사용:
  - 8.0+: `#00C471` (초록)
  - 6.0+: `#3182F6` (블루)
  - 4.0+: `#F5A623` (앰버)
  - <4.0: `#E8554F` (레드)

### 1.2 장식 최소화

- 그라디언트, 노이즈 텍스처, 배경 패턴 사용 금지
- 외부 폰트 금지 — Pretendard만 사용 (`font-sans`)
- 라운드: `rounded-2xl` 최대. 과도한 라운딩 지양
- 그림자: 최소한으로 (`0 1px 8px rgba(0,0,0,0.06)` 수준)
- 애니메이션: `duration-200` 기본. 점수 바만 `duration-700`

### 1.3 MRT 디자인 참고 시

- 마이리얼트립 사이트(`myrealtrip.com`)를 참고하되, 그대로 복사하지 말 것
- MRT의 핵심은 "깔끔함, 신뢰감, 따뜻함" — 이 느낌을 유지
- 여행 서비스답게 감성은 카피/콘텐츠에서, 비주얼은 데이터 가독성에 집중

---

## 2. UX 원칙

### 2.1 레이아웃 안정성

- **그리드 셀 클릭 시 레이아웃이 점프하면 안 됨**
- 상세 패널은 그리드 바깥(아래)에 배치. 그리드 내부에 인라인 삽입하지 말 것
- `<Fragment>`로 카드+패널을 감싸서 그리드 안에 넣으면 나머지 카드가 밀림 — 금지

### 2.2 데이터 정렬

- 월별 데이터는 항상 **1월~12월 시간순**. 점수순 정렬 금지
- 사용자는 "3월에 가면 어떤지"를 보러 옴. 점수순으로 흩으면 3월을 찾아야 함

### 2.3 모바일 우선, 데스크톱 대응

- 모바일에서 먼저 잘 보여야 함 (타겟 유저가 점심시간에 폰으로 봄)
- 단, 데스크톱에서 화면 27%만 쓰는 것도 안 됨
- `max-w-4xl` 이상 확보, `lg:grid-cols-4` 등 데스크톱 그리드 활용

---

## 3. 코드 원칙

### 3.1 CSS/스타일링

- 다크모드 비활성화 상태 유지 (`globals.css`에 dark media query 없음)
- 컴포넌트에 반드시 `color` 명시 — body의 CSS 변수에 의존하지 말 것
- 색상 팔레트를 일관되게 유지 (`#888` 같은 임의 색상 금지)
- `border` shorthand 사용 시 주의 — 개별 `borderTop/Left/Right/Bottom` 권장
- `backdrop-blur`는 헤더에만. 카드에는 solid white + shadow 사용 (성능/호환성)

### 3.2 빌드 & 검증

- 코드 작성 후 반드시 `npx tsc --noEmit` 실행
- 파일을 대량 추가/수정 후 `.next` 캐시 깨질 수 있음 → `Remove-Item -Recurse -Force .next` 후 재시작
- PowerShell에서 커밋 메시지에 한글/특수문자 사용 시 파일 기반 커밋 (`git commit -F .git/COMMIT_MSG`)

### 3.3 Git & 배포

- 로컬 전용 파일(`LOCAL.md`, `.omc/`, `.claude/`)은 `.gitignore`에 포함
- 페르소나/로컬 경로가 담긴 정보는 절대 public repo에 커밋하지 않음
- GitHub: `bangtaeuk@github.com/bangtaeuk/whereorwhen.git` (계정 주의)
- Vercel 자동 배포 연결됨 — push하면 배포

---

## 4. 디자인 리뷰 프로세스

### 4.1 디자인 시안 생성 시

- 최소 3개 이상의 방향으로 병렬 생성하여 비교
- 각 시안은 `/v{N}` 라우트에 독립 페이지로 생성
- 기능은 모두 동일하게 구현 (모드 전환, 검색, 상세 등)

### 4.2 평가 기준 (PRD 기반)

| 기준 | 설명 |
|------|------|
| 심미성 | 30대 한국 직장인이 신뢰할 수 있는 디자인인가 |
| 가독성 | 점수/도시/월을 한눈에 파악 가능한가 |
| 사용성 | 모드 전환, 검색, 상세 보기가 직관적인가 |
| 행동 유도 | 탐색하고 싶은 마음이 드는가 |
| MRT 적합성 | 화이트/블랙 기반, 전문적, 여행 서비스다운가 |
| 모바일 대응 | 375px 화면에서 정상 작동하는가 |
| 공유 가능성 | 카카오톡/인스타에 공유할만한 화면인가 |

### 4.3 검증 절차

- Product Designer + Devil's Advocate 페르소나로 교차 검증
- Playwright MCP 또는 직접 브라우저로 런타임 확인
- 최종 선택 후 메인 페이지에 반영
